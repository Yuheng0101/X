/******************************************
 * @name æ¯å¤©60ç§’è¯»æ‡‚ä¸–ç•Œ
 * @channel https://t.me/yqc_123
 * @feedback https://t.me/yqc_777
 * @version 1.6.0
******************************************
## æ›´æ–°æ—¥å¿—

### 20250215
    ä½¿ç”¨gitç›‘å¬

### 20250206
    c_1715391799055720448 è¯¥ä¸“æ å·²ä¸å†æ›´æ–°, è½¬ä¸ºç›‘å¬ é€Ÿé˜…å¤©ä¸‹äº‹[98-18-69-57]

### 20241213
    ä½¿ç”¨ `https://www.zhihu.com/column/c_1715391799055720448` æ ç›®æ¥è¿›è¡Œé€šçŸ¥
    æ–°å¢åŸæ–‡/å…¨å›¾é€‰æ‹©å¼€å…³

### 20241104
    ä¿®å¤å›¾ç‰‡æºå¤±æ•ˆçš„é—®é¢˜

### 20240716
    1.é‡æ„ä»£ç 
    2.ä¿®æ”¹é€šçŸ¥å˜é‡å(é’é¾™ç¯å¢ƒè¯·å°†sendNotifyæ”¾ç½®äºè„šæœ¬åŒç›®å½•)
    3.å¢åŠ å¤‡ç”¨æ¥å£
    4.ä¸å†ä½¿ç”¨ç¼“å­˜æ¨¡å— - cheerio.js [å¯è¿›è¡Œæœç´¢å¹¶èµ‹å€¼ä¸ºç©º]

### 20240512
    1.ä¼˜åŒ–é€šçŸ¥
    2.é€‚é…æ–°ç‰ˆsurgeå›¾ç‰‡é€šçŸ¥

### 20240312

    1.ä¼˜åŒ–åœ¨Surgeä¸Šçš„é€šçŸ¥
    2.ä¿®å¤Loonåœ¨iOS16ä¸Šå­˜åœ¨åª’ä½“ä¸é€šçŸ¥çš„æƒ…å†µ

###

    ä½¿ç”¨è¡¥é½ç‰ˆcheerioï¼Œæ„Ÿè°¢ @è‹äº•ç°ç° ç°ä½¬æä¾›çš„è½¬æ¢æ€è·¯ã€‚

### 20231123

    å¢åŠ ä¸€æ¡å¤‡ç”¨åœ°å€, ä»¥é˜²æ­¢æ¥å£æŒ‚æ‰ã€‚

### 20231121

    è€ƒè™‘åˆ°ã€å¾®è¯­ã€‘å‡ ä¹å±•ç¤ºä¸å‡ºæ¥ï¼Œæå‰åˆ°å‰¯æ ‡é¢˜ã€‚

### 20231114

    1.å› çŸ¥ä¹åŸå¸–ä½œè€…å·²ä¸åœ¨ç»´æŠ¤, åªå¾—å¦è¾Ÿè¹Šå¾„, ç›®å‰ä½¿ç”¨çš„æ˜¯éå®˜æ–¹ç›¸å…³å†…å®¹, æ•…åŒæ­¥æ—¶é—´ä¼šæœ‰æ‰€å»¶è¿Ÿ, å»ºè®®å°†å®šæ—¶è°ƒåˆ° `9:30` ä»¥åã€‚
    2.é€‚é…é’é¾™é€šçŸ¥, è‡ªè¡Œè°ƒæ•´ `sendNotify.js` çš„ä½ç½®ã€‚

### 20231024

    1.é€‚é…é€šçŸ¥, åªå±•ç¤ºå¯å¯ç”¨é•¿åº¦çš„å†…å®¹, ç‚¹å‡»é€šçŸ¥æŸ¥çœ‹è¯¦ç»†å†…å®¹ã€‚

## è„šæœ¬å£°æ˜

    1.æ­¤è„šæœ¬ä»…ç”¨äºå­¦ä¹ ç ”ç©¶ï¼Œä¸ä¿è¯å…¶åˆæ³•æ€§ã€å‡†ç¡®æ€§ã€æœ‰æ•ˆæ€§ï¼Œè¯·æ ¹æ®æƒ…å†µè‡ªè¡Œåˆ¤æ–­ï¼Œæœ¬äººå¯¹æ­¤ä¸æ‰¿æ‹…ä»»ä½•ä¿è¯è´£ä»»ã€‚
    2.ç”±äºæ­¤è„šæœ¬ä»…ç”¨äºå­¦ä¹ ç ”ç©¶ï¼Œæ‚¨å¿…é¡»åœ¨ä¸‹è½½å 24 å°æ—¶å†…å°†æ‰€æœ‰å†…å®¹ä»æ‚¨çš„è®¡ç®—æœºæˆ–æ‰‹æœºæˆ–ä»»ä½•å­˜å‚¨è®¾å¤‡ä¸­å®Œå…¨åˆ é™¤ï¼Œè‹¥è¿åè§„å®šå¼•èµ·ä»»ä½•äº‹ä»¶æœ¬äººå¯¹æ­¤å‡ä¸è´Ÿè´£ã€‚
    3.è¯·å‹¿å°†æ­¤è„šæœ¬ç”¨äºä»»ä½•å•†ä¸šæˆ–éæ³•ç›®çš„ï¼Œè‹¥è¿åè§„å®šè¯·è‡ªè¡Œå¯¹æ­¤è´Ÿè´£ã€‚
    4.æ­¤è„šæœ¬æ¶‰åŠåº”ç”¨ä¸æœ¬äººæ— å…³ï¼Œæœ¬äººå¯¹å› æ­¤å¼•èµ·çš„ä»»ä½•éšç§æ³„æ¼æˆ–å…¶ä»–åæœä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚
    5.æœ¬äººå¯¹ä»»ä½•è„šæœ¬å¼•å‘çš„é—®é¢˜æ¦‚ä¸è´Ÿè´£ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç”±è„šæœ¬é”™è¯¯å¼•èµ·çš„ä»»ä½•æŸå¤±å’ŒæŸå®³ã€‚
    6.å¦‚æœä»»ä½•å•ä½æˆ–ä¸ªäººè®¤ä¸ºæ­¤è„šæœ¬å¯èƒ½æ¶‰å«Œä¾µçŠ¯å…¶æƒåˆ©ï¼Œåº”åŠæ—¶é€šçŸ¥å¹¶æä¾›èº«ä»½è¯æ˜ï¼Œæ‰€æœ‰æƒè¯æ˜ï¼Œæˆ‘ä»¬å°†åœ¨æ”¶åˆ°è®¤è¯æ–‡ä»¶ç¡®è®¤ååˆ é™¤æ­¤è„šæœ¬ã€‚
    7.æ‰€æœ‰ç›´æ¥æˆ–é—´æ¥ä½¿ç”¨ã€æŸ¥çœ‹æ­¤è„šæœ¬çš„äººå‡åº”è¯¥ä»”ç»†é˜…è¯»æ­¤å£°æ˜, æœ¬äººä¿ç•™éšæ—¶æ›´æ”¹æˆ–è¡¥å……æ­¤å£°æ˜çš„æƒåˆ©, ä¸€æ—¦æ‚¨ä½¿ç”¨æˆ–å¤åˆ¶äº†æ­¤è„šæœ¬ï¼Œå³è§†ä¸ºæ‚¨å·²æ¥å—æ­¤å…è´£å£°æ˜ã€‚

## ä½¿ç”¨æ–¹æ³•

### é…ç½® (QuanX)

```properties
[task_local]
30 9 * * * https://raw.githubusercontent.com/Yuheng0101/X/main/Tasks/60s.js, tag=æ¯å¤©60ç§’è¯»æ‡‚ä¸–ç•Œ, img-url=https://raw.githubusercontent.com/Yuheng0101/X/main/Assets/60s.png, enabled=true
```

### é…ç½® (Loon)

```properties
[Script]
cron "30 9 * * *" script-path=https://raw.githubusercontent.com/Yuheng0101/X/main/Tasks/60s.js, timeout=10, tag=æ¯å¤©60ç§’è¯»æ‡‚ä¸–ç•Œ, img-url=https://raw.githubusercontent.com/Yuheng0101/X/main/Assets/60s.png
```

### é…ç½® (Surge)

```properties
æ¯å¤©60ç§’è¯»æ‡‚ä¸–ç•Œ = type=cron,cronexp=0 30 9 * * *,wake-system=1,script-path=https://raw.githubusercontent.com/Yuheng0101/X/main/Tasks/60s.js,timeout=60
```

### è‡´è°¢

[@vikiboss](https://github.com/vikiboss/60s)

[@é€Ÿé˜…å¤©ä¸‹äº‹](https://www.zhihu.com/people/98-18-69-57)

[@äºŒå–µå¸¦ä½ çœ‹ä¸–ç•Œ](https://www.zhihu.com/column/c_1715391799055720448)

[@virgilClyne](github.com/virgilClyne)

[@cheerio](https://github.com/cheeriojs/cheerio)

[@è‹äº•ç°ç°](https://github.com/wf021325)

[@æ¯å¤©60ç§’è¯»æ‡‚ä¸–ç•Œ](https://www.zhihu.com/people/mt36501)

[@å°ç«£åšå®¢](https://www.jun.la/60snews)

[@è®¾è®¡å¯¼èˆª](https://www.designnavs.com/60s)

[@å†·ç­±å®‡](https://www.789dl.cn/zb.html)

******************************************/
(()=>{"use strict";var e={},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,a),r.exports}a.rv=function(){return"1.1.5"},a.ruid="bundler=rspack@1.1.5";const s=(()=>{const e=Object.keys(globalThis);switch(!0){case e.includes("$task"):return"Quantumult X";case e.includes("$loon"):return"Loon";case e.includes("$rocket"):return"Shadowrocket";case"undefined"!=typeof module:return"Node.js";case e.includes("Egern"):return"Egern";case e.includes("$environment"):return $environment["surge-version"]?"Surge":$environment["stash-version"]?"Stash":void 0;default:return}})();class o{static#e=new Map([]);static#t=[];static#a=new Map([]);static clear=()=>{};static count=(e="default")=>{switch(o.#e.has(e)){case!0:o.#e.set(e,o.#e.get(e)+1);break;case!1:o.#e.set(e,0)}o.log(`${e}: ${o.#e.get(e)}`)};static countReset=(e="default")=>{switch(o.#e.has(e)){case!0:o.#e.set(e,0),o.log(`${e}: ${o.#e.get(e)}`);break;case!1:o.warn(`Counter "${e}" doesnâ€™t exist`)}};static debug=(...e)=>{o.#s<4||(e=e.map((e=>`ğŸ…±ï¸ ${e}`)),o.log(...e))};static error(...e){if(!(o.#s<1)){switch(s){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Quantumult X":default:e=e.map((e=>`âŒ ${e}`));break;case"Node.js":e=e.map((e=>`âŒ ${e.stack}`))}o.log(...e)}}static exception=(...e)=>o.error(...e);static group=e=>o.#t.unshift(e);static groupEnd=()=>o.#t.shift();static info(...e){o.#s<3||(e=e.map((e=>`â„¹ï¸ ${e}`)),o.log(...e))}static#s=2;static get logLevel(){switch(o.#s){case 0:return"OFF";case 1:return"ERROR";case 2:default:return"WARN";case 3:return"INFO";case 4:return"DEBUG";case 5:return"ALL"}}static set logLevel(e){switch(typeof e){case"string":e=e.toLowerCase();break;case"number":break;default:e="warn"}switch(e){case 0:case"off":o.#s=0;break;case 1:case"error":o.#s=1;break;case 2:case"warn":case"warning":default:o.#s=2;break;case 3:case"info":o.#s=3;break;case 4:case"debug":o.#s=4;break;case 5:case"all":o.#s=5}}static log=(...e)=>{0!==o.#s&&(e=e.map((e=>{switch(typeof e){case"object":e=JSON.stringify(e);break;case"bigint":case"number":case"boolean":case"string":e=e.toString()}return e})),o.#t.forEach((t=>{e=e.map((e=>`  ${e}`)),e.unshift(`â–¼ ${t}:`)})),e=["",...e],console.log(e.join("\n")))};static time=(e="default")=>o.#a.set(e,Date.now());static timeEnd=(e="default")=>o.#a.delete(e);static timeLog=(e="default")=>{const t=o.#a.get(e);t?o.log(`${e}: ${Date.now()-t}ms`):o.warn(`Timer "${e}" doesnâ€™t exist`)};static warn(...e){o.#s<2||(e=e.map((e=>`âš ï¸ ${e}`)),o.log(...e))}}class r{static get(e={},t="",a=void 0){Array.isArray(t)||(t=r.toPath(t));const s=t.reduce(((e,t)=>Object(e)[t]),e);return void 0===s?a:s}static set(e,t,a){return Array.isArray(t)||(t=r.toPath(t)),t.slice(0,-1).reduce(((e,a,s)=>Object(e[a])===e[a]?e[a]:e[a]=/^\d+$/.test(t[s+1])?[]:{}),e)[t[t.length-1]]=a,e}static unset(e={},t=""){Array.isArray(t)||(t=r.toPath(t));const a=t.reduce(((e,a,s)=>s===t.length-1?(delete e[a],!0):Object(e)[a]),e);return a}static toPath(e){return e.replace(/\[(\d+)\]/g,".$1").split(".").filter(Boolean)}static escape(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,(e=>t[e]))}static unescape(e){const t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};return e.replace(/&amp;|&lt;|&gt;|&quot;|&#39;/g,(e=>t[e]))}}const i={100:"HTTP/1.1 100 Continue",101:"HTTP/1.1 101 Switching Protocols",102:"HTTP/1.1 102 Processing",103:"HTTP/1.1 103 Early Hints",200:"HTTP/1.1 200 OK",201:"HTTP/1.1 201 Created",202:"HTTP/1.1 202 Accepted",203:"HTTP/1.1 203 Non-Authoritative Information",204:"HTTP/1.1 204 No Content",205:"HTTP/1.1 205 Reset Content",206:"HTTP/1.1 206 Partial Content",207:"HTTP/1.1 207 Multi-Status",208:"HTTP/1.1 208 Already Reported",226:"HTTP/1.1 226 IM Used",300:"HTTP/1.1 300 Multiple Choices",301:"HTTP/1.1 301 Moved Permanently",302:"HTTP/1.1 302 Found",304:"HTTP/1.1 304 Not Modified",307:"HTTP/1.1 307 Temporary Redirect",308:"HTTP/1.1 308 Permanent Redirect",400:"HTTP/1.1 400 Bad Request",401:"HTTP/1.1 401 Unauthorized",402:"HTTP/1.1 402 Payment Required",403:"HTTP/1.1 403 Forbidden",404:"HTTP/1.1 404 Not Found",405:"HTTP/1.1 405 Method Not Allowed",406:"HTTP/1.1 406 Not Acceptable",407:"HTTP/1.1 407 Proxy Authentication Required",408:"HTTP/1.1 408 Request Timeout",409:"HTTP/1.1 409 Conflict",410:"HTTP/1.1 410 Gone",411:"HTTP/1.1 411 Length Required",412:"HTTP/1.1 412 Precondition Failed",413:"HTTP/1.1 413 Content Too Large",414:"HTTP/1.1 414 URI Too Long",415:"HTTP/1.1 415 Unsupported Media Type",416:"HTTP/1.1 416 Range Not Satisfiable",417:"HTTP/1.1 417 Expectation Failed",418:"HTTP/1.1 418 I'm a teapot",421:"HTTP/1.1 421 Misdirected Request",422:"HTTP/1.1 422 Unprocessable Entity",423:"HTTP/1.1 423 Locked",424:"HTTP/1.1 424 Failed Dependency",425:"HTTP/1.1 425 Too Early",426:"HTTP/1.1 426 Upgrade Required",428:"HTTP/1.1 428 Precondition Required",429:"HTTP/1.1 429 Too Many Requests",431:"HTTP/1.1 431 Request Header Fields Too Large",451:"HTTP/1.1 451 Unavailable For Legal Reasons",500:"HTTP/1.1 500 Internal Server Error",501:"HTTP/1.1 501 Not Implemented",502:"HTTP/1.1 502 Bad Gateway",503:"HTTP/1.1 503 Service Unavailable",504:"HTTP/1.1 504 Gateway Timeout",505:"HTTP/1.1 505 HTTP Version Not Supported",506:"HTTP/1.1 506 Variant Also Negotiates",507:"HTTP/1.1 507 Insufficient Storage",508:"HTTP/1.1 508 Loop Detected",510:"HTTP/1.1 510 Not Extended",511:"HTTP/1.1 511 Network Authentication Required"};const c=e=>{const t={};switch(typeof e){case void 0:break;case"string":case"number":case"boolean":switch(s){case"Surge":case"Stash":case"Egern":default:t.url=e;break;case"Loon":case"Shadowrocket":t.openUrl=e;break;case"Quantumult X":t["open-url"]=e;case"Node.js":}break;case"object":{const a=e.open||e["open-url"]||e.url||e.openUrl,o=e.copy||e["update-pasteboard"]||e.updatePasteboard,r=e.media||e["media-url"]||e.mediaUrl;switch(s){case"Surge":case"Stash":case"Egern":case"Shadowrocket":default:if(a&&(t.action="open-url",t.url=a),o&&(t.action="clipboard",t.text=o),r)switch(!0){case r.startsWith("http"):t["media-url"]=r;break;case r.startsWith("data:"):{const a=/^data:(?<MIME>\w+\/\w+);base64,(?<Base64>.+)/,{MIME:s,Base64:o}=r.match(a).groups;t["media-base64"]=o,t["media-base64-mime"]=e.mime||s;break}default:switch(t["media-base64"]=r,!0){case r.startsWith("CiVQREYt"):case r.startsWith("JVBERi0"):t["media-base64-mime"]="application/pdf";break;case r.startsWith("R0lGODdh"):case r.startsWith("R0lGODlh"):t["media-base64-mime"]="image/gif";break;case r.startsWith("iVBORw0KGgo"):t["media-base64-mime"]="image/png";break;case r.startsWith("/9j/"):t["media-base64-mime"]="image/jpg";break;case r.startsWith("Qk02U"):t["media-base64-mime"]="image/bmp"}}e["auto-dismiss"]&&(t["auto-dismiss"]=e["auto-dismiss"]),e.sound&&(t.sound=e.sound);break;case"Loon":a&&(t.openUrl=a),r?.startsWith("http")&&(t.mediaUrl=r);break;case"Quantumult X":a&&(t["open-url"]=a),r?.startsWith("http")&&(t["media-url"]=r),o&&(t["update-pasteboard"]=o);case"Node.js":}break}default:o.error("ä¸æ”¯æŒçš„é€šçŸ¥å‚æ•°ç±»å‹: "+typeof e,"")}return t};async function n(e,t){switch(e.constructor){case Object:e={...t,...e};break;case String:e={...t,url:e}}e.method||(e.method="GET",(e.body??e.bodyBytes)&&(e.method="POST")),delete e.headers?.Host,delete e.headers?.[":authority"],delete e.headers?.["Content-Length"],delete e.headers?.["content-length"];const a=e.method.toLocaleLowerCase();switch(s){case"Loon":case"Surge":case"Stash":case"Egern":case"Shadowrocket":default:if(e.timeout)switch(e.timeout=Number.parseInt(e.timeout,10),s){case"Loon":case"Shadowrocket":case"Stash":case"Egern":default:e.timeout=e.timeout/1e3;case"Surge":}if(e.policy)switch(s){case"Loon":e.node=e.policy;break;case"Stash":r.set(e,"headers.X-Stash-Selected-Proxy",encodeURI(e.policy));break;case"Shadowrocket":r.set(e,"headers.X-Surge-Proxy",e.policy)}switch("boolean"==typeof e.redirection&&(e["auto-redirect"]=e.redirection),e.bodyBytes&&!e.body&&(e.body=e.bodyBytes,e.bodyBytes=void 0),(e.headers?.Accept||e.headers?.accept)?.split(";")?.[0]){case"application/protobuf":case"application/x-protobuf":case"application/vnd.google.protobuf":case"application/vnd.apple.flatbuffer":case"application/grpc":case"application/grpc+proto":case"application/octet-stream":e["binary-mode"]=!0}return await new Promise(((t,s)=>{$httpClient[a](e,((a,o,r)=>{a?s(a):(o.ok=/^2\d\d$/.test(o.status),o.statusCode=o.status,r&&(o.body=r,1==e["binary-mode"]&&(o.bodyBytes=r)),t(o))}))}));case"Quantumult X":return e.policy&&r.set(e,"opts.policy",e.policy),"boolean"==typeof e["auto-redirect"]&&r.set(e,"opts.redirection",e["auto-redirect"]),e.body instanceof ArrayBuffer?(e.bodyBytes=e.body,e.body=void 0):ArrayBuffer.isView(e.body)?(e.bodyBytes=e.body.buffer.slice(e.body.byteOffset,e.body.byteLength+e.body.byteOffset),e.body=void 0):e.body&&(e.bodyBytes=void 0),await $task.fetch(e).then((e=>{switch(e.ok=/^2\d\d$/.test(e.statusCode),e.status=e.statusCode,(e.headers?.["Content-Type"]??e.headers?.["content-type"])?.split(";")?.[0]){case"application/protobuf":case"application/x-protobuf":case"application/vnd.google.protobuf":case"application/vnd.apple.flatbuffer":case"application/grpc":case"application/grpc+proto":case"application/octet-stream":e.body=e.bodyBytes}return e.bodyBytes=void 0,e}),(e=>Promise.reject(e.error)));case"Node.js":{const t=require("iconv-lite"),s=globalThis.got?globalThis.got:require("got"),r=globalThis.cktough?globalThis.cktough:require("tough-cookie"),i=globalThis.ckjar?globalThis.ckjar:new r.CookieJar;e&&(e.headers=e.headers?e.headers:{},void 0===e.headers.Cookie&&void 0===e.cookieJar&&(e.cookieJar=i));const{url:c,...n}=e;return await s[a](c,n).on("redirect",((e,t)=>{try{if(e.headers["set-cookie"]){const a=e.headers["set-cookie"].map(r.Cookie.parse).toString();a&&i.setCookieSync(a,null),t.cookieJar=i}}catch(e){o.error(e)}})).then((e=>(e.statusCode=e.status,e.body=t.decode(e.rawBody,"utf-8"),e.bodyBytes=e.rawBody,e)),(e=>Promise.reject(e.message)))}}}class d{static data=null;static dataFile="box.dat";static#o=/^@(?<key>[^.]+)(?:\.(?<path>.*))?$/;static getItem(e,t=null){let a=t;switch(e.startsWith("@")){case!0:{const{key:t,path:s}=e.match(d.#o)?.groups;e=t;let o=d.getItem(e,{});"object"!=typeof o&&(o={}),a=r.get(o,s);try{a=JSON.parse(a)}catch(e){}break}default:switch(s){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":a=$persistentStore.read(e);break;case"Quantumult X":a=$prefs.valueForKey(e);break;case"Node.js":d.data=d.#r(d.dataFile),a=d.data?.[e];break;default:a=d.data?.[e]||null}try{a=JSON.parse(a)}catch(e){}}return a??t}static setItem(e=new String,t=new String){let a=!1;if("object"==typeof t)t=JSON.stringify(t);else t=String(t);switch(e.startsWith("@")){case!0:{const{key:s,path:o}=e.match(d.#o)?.groups;e=s;let i=d.getItem(e,{});"object"!=typeof i&&(i={}),r.set(i,o,t),a=d.setItem(e,i);break}default:switch(s){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":a=$persistentStore.write(t,e);break;case"Quantumult X":a=$prefs.setValueForKey(t,e);break;case"Node.js":d.data=d.#r(d.dataFile),d.data[e]=t,d.#i(d.dataFile),a=!0;break;default:a=d.data?.[e]||null}}return a}static removeItem(e){let t=!1;switch(e.startsWith("@")){case!0:{const{key:a,path:s}=e.match(d.#o)?.groups;e=a;let o=d.getItem(e);"object"!=typeof o&&(o={}),keyValue=r.unset(o,s),t=d.setItem(e,o);break}default:switch(s){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Node.js":default:t=!1;break;case"Quantumult X":t=$prefs.removeValueForKey(e)}}return t}static clear(){let e=!1;switch(s){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Node.js":default:e=!1;break;case"Quantumult X":e=$prefs.removeAllValues()}return e}static#r=e=>{if("Node.js"!==s)return{};{this.fs=this.fs?this.fs:require("node:fs"),this.path=this.path?this.path:require("node:path");const t=this.path.resolve(e),a=this.path.resolve(process.cwd(),e),s=this.fs.existsSync(t),o=!s&&this.fs.existsSync(a);if(!s&&!o)return{};{const e=s?t:a;try{return JSON.parse(this.fs.readFileSync(e))}catch(e){return{}}}}};static#i=(e=this.dataFile)=>{if("Node.js"===s){this.fs=this.fs?this.fs:require("node:fs"),this.path=this.path?this.path:require("node:path");const t=this.path.resolve(e),a=this.path.resolve(process.cwd(),e),s=this.fs.existsSync(t),o=!s&&this.fs.existsSync(a),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):o?this.fs.writeFileSync(a,r):this.fs.writeFileSync(t,r)}}}const u=e=>{try{return JSON.parse(e)}catch{return e}},l=(e,...t)=>{if("string"==typeof e)return e;try{return JSON.stringify(e,...t)}catch{return e}};const p="undefined"!=typeof $argument?"object"==typeof $argument?$argument:Object.fromEntries($argument.split("&").map((e=>e.split("=")))):{},h="æ¯å¤©60ç§’è¯»æ‡‚ä¸–ç•Œ",b=((e,t=null)=>{const a=t?new Date(t):new Date;let s={"M+":a.getMonth()+1,"d+":a.getDate(),"H+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(let t in s)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?s[t]:("00"+s[t]).substr((""+s[t]).length)));return e})("yyyy-MM-dd"),g=()=>"Node.js"===s;!function(){const e=["æœ¬è„šæœ¬ä»…ç”¨äºå­¦ä¹ ç ”ç©¶ï¼Œç¦æ­¢ç”¨äºå•†ä¸šç”¨é€”","æœ¬è„šæœ¬ä¸ä¿è¯å‡†ç¡®æ€§ã€å¯é æ€§ã€å®Œæ•´æ€§å’ŒåŠæ—¶æ€§","ä»»ä½•ä¸ªäººæˆ–ç»„ç»‡å‡å¯æ— éœ€ç»è¿‡é€šçŸ¥è€Œè‡ªç”±ä½¿ç”¨","ä½œè€…å¯¹ä»»ä½•è„šæœ¬é—®é¢˜æ¦‚ä¸è´Ÿè´£ï¼ŒåŒ…æ‹¬ç”±æ­¤äº§ç”Ÿçš„ä»»ä½•æŸå¤±","å¦‚æœ‰å•ä½æˆ–ä¸ªäººè®¤ä¸ºæœ¬è„šæœ¬ä¾µæƒï¼Œè¯·é€šçŸ¥å¹¶æä¾›è¯æ˜ï¼Œæˆ‘å°†åˆ é™¤","è¯·å‹¿å°†æœ¬è„šæœ¬ç”¨äºå•†ä¸šç”¨é€”ï¼Œç”±æ­¤å¼•èµ·çš„é—®é¢˜ä¸ä½œè€…æ— å…³","æœ¬è„šæœ¬åŠå…¶æ›´æ–°ç‰ˆæƒå½’ä½œè€…æ‰€æœ‰","",`âŒš ${(new Date).toLocaleString("zh-CN",{timeZone:"PRC"})}`];o.log("==============ğŸ“£å…è´£å£°æ˜ğŸ“£==============",...e)}(),o.logLevel="true"==`${g()?process.env.ZAOBAO_DEBUG:p.debug||d.getItem("zaobao_debug")}`?"debug":"info",o.info(`æ—¥å¿—ç­‰çº§: ${o.logLevel}`);const y="true"==`${d.getItem("zaobao_original_url")}`,f=g()?process.env.ZAOBAO_BARK_KEY:d.getItem("zaobao_bark_key");async function m(){const e=await n(`https://raw.githubusercontent.com/vikiboss/60s-static-host/main/static/60ss/${b}.json`);let t,a,r,i=h,d=await Promise.race([n("https://api.03c3.cn/api/zb").then((()=>"https://api.03c3.cn/api/zb")),n("https://api.2xb.cn/zaob").then((e=>u(e.body)?.imageUrl))]);if(e.ok){const s=u(e.body);i=h,t=s.tip,a=s.news.map(((e,t)=>`ã€${(e=>{const t=["ğŸ","ğŸ","ğŸ","ğŸ‘","ğŸ’","ğŸ“","ğŸ”","ğŸ•","ğŸ–","ğŸ—","ğš","ğ›","ğœ","ğ","ğ","ğŸ","ğ ","ğ¡","ğ¢","ğ£","ğ¤","ğ¥","ğ¦","ğ§","ğ¨","ğ©","ğª","ğ«","ğ¬","ğ­","ğ®","ğ¯","ğ°","ğ±","ğ²","ğ³","ğ€","ğ","ğ‚","ğƒ","ğ„","ğ…","ğ†","ğ‡","ğˆ","ğ‰","ğŠ","ğ‹","ğŒ","ğ","ğ","ğ","ğ","ğ‘","ğ’","ğ“","ğ”","ğ•","ğ–","ğ—","ğ˜","ğ™"],a={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,65:36,66:37,67:38,68:39,69:40,70:41,71:42,72:43,73:44,74:45,75:46,76:47,77:48,78:49,79:50,80:51,81:52,82:53,83:54,84:55,85:56,86:57,87:58,88:59,89:60,90:61,97:10,98:11,99:12,100:13,101:14,102:15,103:16,104:17,105:18,106:19,107:20,108:21,109:22,110:23,111:24,112:25,113:26,114:27,115:28,116:29,117:30,118:31,119:32,120:33,121:34,122:35};return e.replace(/[0-9A-z]/g,(e=>t[a[e.charCodeAt(0)]]))})(`${t+1}`.padStart(2,"0"))}ã€‘${e}`)),r=s.cover,y&&(d=s.link),o.group("ğŸ“°content"),o.debug(...a),o.groupEnd()}else{t=await Promise.race([n("https://v1.hitokoto.cn/?c=a&encode=text").then((e=>e.body)),n("https://api.2xb.cn/RainbowWord").then((e=>e.body))]);const e="æ–‡å­—ç‰ˆæ¥å£æš‚æœªæ›´æ–°, å¯å°è¯•ç‚¹å‡»æ¨ªå¹…è·³è½¬å›¾æ–‡é“¾æ¥æŸ¥çœ‹";o.warn(e),a=["âš ï¸ å¼‚å¸¸é€šçŸ¥",e]}o.group("ğŸ”ˆnotification"),o.debug(i,t,d,r),o.groupEnd(),await async function(e,t,a,r){f?await async function(e,t,a,s={}){const r=s?.["open-url"]||s?.openUrl||s?.$open||s?.url||"",i=s?.["update-pasteboard"]||s?.updatePasteboard||s?.$copy||s?.copy||"",c=s?.["media-url"]||s?.mediaUrl||s?.$media||"";["open-url","openUrl","$open","url","update-pasteboard","updatePasteboard","$copy","copy","media-url","mediaUrl","$media"].forEach((e=>delete s[e])),t&&(a=t+"\n"+a);const d={...s,url:r,copy:i,icon:c,title:e,body:a},u={url:"https://api.day.app/"+f,headers:{"content-type":"application/json; charset=utf-8"},body:l(d)};for(let t=0;t<3;t++){o.info(`Barkç¬¬${t+1}æ¬¡æ¨é€å°è¯•`);const s=await n(u);if(s.ok){const t=["=========ğŸ“£æ¨é€æˆåŠŸğŸ“£=========",e,a];r&&t.push(`è·³è½¬é“¾æ¥: ${r}`),i&&t.push(`å¤åˆ¶å†…å®¹: ${i}`),c&&t.push(`åª’ä½“é“¾æ¥: ${c}`),o.log(...t);break}o.warn("Barkæ¨é€å¤±è´¥",s.body||"")}}(e,t,a,r):function(e=`â„¹ï¸ ${s} é€šçŸ¥`,t="",a="",r={}){switch(s){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":default:$notification.post(e,t,a,c(r));break;case"Quantumult X":$notify(e,t,a,c(r));case"Node.js":}o.log("==============ğŸ“£ç³»ç»Ÿé€šçŸ¥ğŸ“£==============",e,t,a,JSON.stringify(c(r),null,2))}(e,t,a,r)}(i,t,a.join("\n").replace(/\n$/,""),{mediaUrl:r,openUrl:d})}o.debug(f?"Barkå¯†é’¥: "+f:"æœªå¼€å¯Barkæ¨é€"),(async()=>{await m()})().catch((e=>{let t="";t=e instanceof Error?e.message:e,o.error(t)})).finally((function(e={}){switch(s){case"Surge":e.policy&&r.set(e,"headers.X-Surge-Policy",e.policy),o.log("ğŸš© æ‰§è¡Œç»“æŸ!",`ğŸ•› ${(new Date).getTime()/1e3-$script.startTime} ç§’`),$done(e);break;case"Loon":e.policy&&(e.node=e.policy),o.log("ğŸš© æ‰§è¡Œç»“æŸ!",`ğŸ•› ${(new Date-$script.startTime)/1e3} ç§’`),$done(e);break;case"Stash":e.policy&&r.set(e,"headers.X-Stash-Selected-Proxy",encodeURI(e.policy)),o.log("ğŸš© æ‰§è¡Œç»“æŸ!",`ğŸ•› ${(new Date-$script.startTime)/1e3} ç§’`),$done(e);break;case"Egern":case"Shadowrocket":default:o.log("ğŸš© æ‰§è¡Œç»“æŸ!"),$done(e);break;case"Quantumult X":switch(e.policy&&r.set(e,"opts.policy",e.policy),e["auto-redirect"]=void 0,e["auto-cookie"]=void 0,e["binary-mode"]=void 0,e.charset=void 0,e.host=void 0,e.insecure=void 0,e.method=void 0,e.ok=void 0,e.opt=void 0,e.path=void 0,e.policy=void 0,e["policy-descriptor"]=void 0,e.scheme=void 0,e.sessionIndex=void 0,e.statusCode=void 0,e.timeout=void 0,typeof e.status){case"number":e.status=i[e.status];break;case"string":case"undefined":break;default:e.status=void 0}e.body instanceof ArrayBuffer?(e.bodyBytes=e.body,e.body=void 0):ArrayBuffer.isView(e.body)?(e.bodyBytes=e.body.buffer.slice(e.body.byteOffset,e.body.byteLength+e.body.byteOffset),e.body=void 0):e.body&&(e.bodyBytes=void 0),o.log("ğŸš© æ‰§è¡Œç»“æŸ!"),$done(e);break;case"Node.js":o.log("ğŸš© æ‰§è¡Œç»“æŸ!"),process.exit(1)}}))})();